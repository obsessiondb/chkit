# Site Structure Reference

## Directory layout

```
apps/docs/
├── astro.config.mjs              # Starlight config + sidebar + raw-markdown integration
├── package.json                  # astro, @astrojs/starlight, sharp
├── wrangler.jsonc                # Cloudflare Pages deployment
├── src/
│   ├── content.config.ts         # Astro content collections (Starlight docsLoader)
│   ├── content/docs/             # All documentation pages (see below)
│   ├── integrations/
│   │   └── raw-markdown.ts       # Build-time raw markdown + sitemap generator
│   ├── styles/
│   │   └── custom.css            # Custom theme styles
│   └── assets/                   # Images, icons
└── dist/                         # Build output (includes _raw/ with agent-readable docs)
```

## Page inventory

19 files organized in 6 sections:

### Root (manually registered in sidebar)

| File | Title | Description |
|------|-------|-------------|
| `index.mdx` | chkit Documentation | Landing page (splash template, uses Astro components) |
| `getting-started.md` | Getting Started | Install chkit and run the first migration flow |
| `documentation-structure.md` | Documentation Structure | Scope boundaries between public docs and internal planning docs |

### CLI Reference (`cli/` — autogenerated, ordered by `sidebar.order`)

| File | Order | Title |
|------|-------|-------|
| `cli/overview.md` | 1 | CLI Overview |
| `cli/init.md` | 2 | chkit init |
| `cli/generate.md` | 3 | chkit generate |
| `cli/migrate.md` | 4 | chkit migrate |
| `cli/status.md` | 5 | chkit status |
| `cli/drift.md` | 6 | chkit drift |
| `cli/check.md` | 7 | chkit check |
| `cli/pull.md` | 8 | chkit pull |
| `cli/codegen.md` | 9 | chkit codegen |
| `cli/plugin.md` | 10 | chkit plugin |

### Configuration (`configuration/` — autogenerated)

| File | Title |
|------|-------|
| `configuration/overview.md` | Configuration Overview |

### Guides (`guides/` — autogenerated)

| File | Title |
|------|-------|
| `guides/ci-cd.md` | CI/CD Integration |

### Schema (`schema/` — autogenerated)

| File | Title |
|------|-------|
| `schema/dsl-reference.md` | Schema DSL Reference |

### Plugins (`plugins/` — autogenerated)

| File | Title |
|------|-------|
| `plugins/codegen.md` | Codegen Plugin |
| `plugins/pull.md` | Pull Plugin |
| `plugins/backfill.md` | Backfill Plugin |

## Sidebar configuration

Defined in `apps/docs/astro.config.mjs`:

- **Overview** — 3 manually registered pages (Introduction, Getting Started, Documentation Structure)
- **CLI Reference** — Autogenerated from `cli/` directory, ordered by `sidebar.order` frontmatter
- **Configuration** — Autogenerated from `configuration/`
- **Guides** — Autogenerated from `guides/`
- **Schema** — Autogenerated from `schema/`
- **Plugins** — Autogenerated from `plugins/`

To add a page to an autogenerated section, just create the file in the right directory. To add a new top-level page, add it to the `sidebar` array in `astro.config.mjs`.

## File format notes

- `.mdx` — Only `index.mdx` (uses Astro components for the splash page)
- `.md` — All other 18 files (standard Markdown)
- New pages should use `.md` unless they need Astro components
